@if (book() !== null) {
  @if (isEditing) {
    <app-form-create-book
      [bookToEdit]="bookToEdit"
      (closeModal)="closeEditModal()"></app-form-create-book>
  }
  
  <div class="w-full h-full p-6 md:p-8 overflow-y-auto bg-primary text-white">
    <!-- Barre d'actions -->
    <div class="flex justify-end mb-4 gap-3">
      <button
        pButton
        type="button"
        label="Modifier"
        icon="pi pi-pencil"
        class="p-button-raised p-button-warning"
        (click)="openEditModal()"></button>
    </div>
    <!-- Contenu principal -->
    <div class="flex flex-col lg:flex-row gap-6 lg:h-[30rem]">
      <!-- Couverture -->
      @if (book()!.coverUrl) {
        <div class=" lg:flex-1 flex justify-center items-center border-third">
          <img
            src="{{ book()!.coverUrl }}"
            alt="Couverture du livre"
            class="h-full border-4 border-third  object-contain">
        </div>
      } @else {
        <div class="w-full lg:w-1/3 flex justify-center items-center text-gray-400 italic">
          Couverture non disponible
        </div>
      }

      <!-- Informations -->
      <div class="w-full lg:flex-3 flex px-3 flex-row gap-6">
        <!-- Colonne 1 -->
        <div class="flex-3 flex flex-col gap-6 lg:pr-6 border-r border-secondary/50">
          <h1 class="text-2xl md:text-3xl font-semibold leading-tight">{{ book()?.title }}</h1>
          <div class="text-sm md:text-base text-secondary space-y-1">
            <p>
              <span class="font-bold">Auteur : </span>
              @for (author of book()!.authors; let i = $index; track author) {
                <span>{{ author.name }}@if (i < book()!.authors!.length - 1) {
                  ,
                }</span>
              }
            </p>
            <!--            <p><span class="font-bold">Trad :</span> Nom</p>-->
          </div>
          <div class="text-sm md:text-base space-y-3">
            <p><span class="font-bold">ISBN :</span> {{ book()?.isbn }}</p>
            <p><span class="font-bold">NUART :</span> {{ book()?.nuart }}</p>
          </div>
          <div class="text-sm md:text-base space-y-3">
            <p><span class="font-bold">Prix :</span> {{ book()?.price }}€</p>
            <p><span class="font-bold">Pages :</span> {{ book()?.pages }} pages</p>
            <!--            <p><span class="font-bold">Format :</span> Poche – 13 × 18</p>-->
          </div>
        </div>
        <!-- Colonne 2 (future section) -->
        <!--        <div class="flex-2  lg:block border-r border-secondary/50">lol</div>-->
        <!-- Colonne 3 (placeholder) -->
        <div class="flex-2  lg:block"></div>
      </div>
    </div>
  </div>
}
